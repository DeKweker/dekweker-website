/* css/layout.css
   Header + toast + mini cart bubble.
   Single source of truth for header layout.
*/

:root{
  --header-h: 56px;
}

/* =========================
   Header (sticky)
========================= */
#site-header{
  position: sticky;
  top: 0;
  z-index: 5000;
}

/* menu.js renders .topbar */
#site-header .topbar{
  height: var(--header-h);
  width: min(1100px, calc(100% - 32px));
  margin: 0 auto;

  display: grid;
  grid-template-columns: 180px 1fr auto;
  align-items: center;
  gap: 14px;

  padding: 10px 14px;

  background: rgba(10,10,10,.55);
  border-bottom: 1px solid rgba(255,255,255,.08);
}

@supports ((backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px))){
  #site-header .topbar{
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
}

/* brand */
#site-header .brand{ display:flex; align-items:center; }
#site-header .brandLink{
  color: rgba(255,255,255,.92);
  text-decoration: none;
  font-weight: 900;
  letter-spacing: -.2px;
  white-space: nowrap;
}

/* center nav */
#site-header .navLinks{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  min-width: 0;
}
#site-header .navLink{
  color: rgba(255,255,255,.78);
  text-decoration: none;
  padding: 8px 12px;
  border-radius: 999px;
  white-space: nowrap;
}
#site-header .navLink:hover{
  color: rgba(255,255,255,.92);
  background: rgba(255,255,255,.06);
}
#site-header .navLink.isActive{
  color: rgba(255,255,255,.95);
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.10);
}

/* right actions */
#site-header .actions{
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 10px;
}

/* desktop: hide hamburger hard */
#site-header .hamburger{
  display: none !important;
}

/* Mobile header behavior */
@media (max-width: 900px){
  #site-header .topbar{
    grid-template-columns: 1fr auto;
  }

  #site-header .navLinks{
    display: none !important;
  }

  #site-header .currentPill{
    display: none !important;
  }

  #site-header .hamburger{
    display: inline-flex !important;
  }
}

/* =========================
   Toast
========================= */
#toastHost{
  position: fixed;
  right: 14px;
  bottom: 72px;
  z-index: 2500;
  display: grid;
  gap: 10px;
}

.toast{
  width: min(420px, calc(100vw - 28px));
  background: rgba(12,12,12,.92);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 16px;
  padding: 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  box-shadow: 0 18px 50px rgba(0,0,0,.45);
  animation: toastIn .16s ease;
}

@supports ((backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px))){
  .toast{
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
}

.toast.out{
  opacity: 0;
  transform: translateY(6px);
  transition: opacity .18s ease, transform .18s ease;
}

.toastTitle{ font-weight: 900; letter-spacing: -.2px; }
.toastMsg{ font-size: 12px; color: rgba(255,255,255,.72); margin-top: 3px; }
.toastActions{ display:flex; gap:8px; align-items:center; }

@keyframes toastIn{
  from{ opacity: 0; transform: translateY(8px); }
  to{ opacity: 1; transform: translateY(0); }
}

/* =========================
   Mini cart bubble (optional)
========================= */
.miniCartFab{
  position: fixed;
  right: 14px;
  bottom: 14px;
  z-index: 2400;

  display: inline-flex;
  align-items: center;
  gap: 10px;

  padding: 10px 12px;
  border-radius: 999px;

  background: rgba(12,12,12,.90);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 18px 50px rgba(0,0,0,.40);

  opacity: 0;
  transform: translateY(10px) scale(.98);
  pointer-events: none;
  transition: opacity .18s ease, transform .18s ease;
}

@supports ((backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px))){
  .miniCartFab{
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
}

.miniCartFab.show{
  opacity: 1;
  transform: translateY(0) scale(1);
  pointer-events: auto;
}
